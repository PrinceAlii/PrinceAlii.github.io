(()=>{const n=document.documentElement,s="site-theme",o=typeof window.matchMedia=="function",t=e=>o&&window.matchMedia(e).matches;let e=null;try{e=localStorage.getItem(s)}catch{e=null}e!=="light"&&e!=="dark"&&(e=t("(prefers-color-scheme: light)")?"light":"dark"),n.setAttribute("data-theme",e);const i=t("(prefers-reduced-motion: reduce)"),a=t("(pointer: coarse)"),r=t("(max-width: 900px)"),c=Boolean(navigator.connection&&navigator.connection.saveData);!i&&!a&&!r&&!c&&n.classList.add("enhanced-background")})()